@page "/"

<h1>Hello, gRPC!</h1>

<button class="btn btn-primary" @onclick="SayHello">Say Hello</button>

<hr />

<p>@Greeting</p>

@code {

    private string Greeting = String.Empty;

    async Task SayHello()
    {
        using var channel = GrpcChannel.ForAddress("https://localhost:7217");
        var client = new Greeter.GreeterClient(channel);
        var reply = await client.SayHelloAsync(new HelloRequest { Name = "Blazor gRPC Client" });
        Greeting = reply.Message;

        await channel.ShutdownAsync();
    }

}